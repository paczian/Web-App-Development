<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title>TESTING</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    
    <!--external javascript files-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!--external bootstrap style-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    
    <!--local javascript files-->
    <script type="text/javascript" src="Retina/js/stm.js"></script>
    <script type="text/javascript" src="Retina/js/retina.js"></script>    
    
    <!--initialization-->
    <script type="text/javascript">
    jQuery(document).ready(function() {
        stm.init({});
        Retina.init({ renderer_resources: "Retina/renderers",
                      widget_resource: "Retina/widgets",
                      library_resources: "Retina/js" });
        var field = document.getElementById("content");
        field.innerHTML = "This shouldn't be here!";
        Retina.load_widget("Example").then( function () {
            Retina.Widget.create("Example", { "target": document.getElementById("content")});
        });
    });
    </script>
    
  </head>
  <body>
    <h2>What a wonderful world</h2>    
    <p>Say hello to it!</p>

    <!--the content div-->
    <div id="content">I like not world!</div>
    
    
    <!-- Playing with JS -->
    <div id="shock"></div>
    
    <script> 
    var url = "http://localhost:8001/shock/api/node/";
    var request = $.ajax({
	dataType: "json",
	url: url,
    });
    request.done( 
	function( data ){
	    console.log("SUPER");
	    console.log(data);
	    var element = document.getElementById("shock");
	    var node_ids = "<br>";
	    for (var i in data.data) {
		console.log(i);
		node_ids += data.data[i].id + "<br>";
	    }
	    element.innerHTML = node_ids;
	}
    );
    request.fail(console.log("URL call " + url + " failed"));
    </script>  
    
  </body>
</html>
